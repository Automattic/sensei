!function(e){return e.fn.ajaxChosen=function(t,r){var i,s,n,a;return null==t&&(t={}),null==r&&(r=function(){}),s={minTermLength:3,afterTypeDelay:500,jsonTermKey:"term"},a=this,i=null,n=e.extend({},s,t),this.chosen(),this.each(function(){return e(this).next(".chosen-container").find(".search-field > input, .chosen-search > input").bind("keyup",function(){var t,s,o,u;return u=e.trim(e(this).attr("value")),s=u.length<n.minTermLength?"Keep typing...":"Looking for '"+u+"'",a.next(".chosen-container").find(".no-results").text(s),u===e(this).data("prevVal")?!1:(e(this).data("prevVal",u),this.timer&&clearTimeout(this.timer),u.length<n.minTermLength?!1:(t=e(this),null==n.data&&(n.data={}),n.data[n.jsonTermKey]=u,null!=n.dataCallback&&(n.data=n.dataCallback(n.data)),o=n.success,n.success=function(i){var s,n;if(null!=i)return n=[],a.find("option").each(function(){return e(this).is(":selected")?n.push(e(this).val()+"-"+e(this).text()):e(this).remove()}),s=r(i),e.each(s,function(t,r){return-1===e.inArray(t+"-"+r,n)?e("<option />").attr("value",t).html(r).appendTo(a):void 0}),a.trigger("chosen:updated"),null!=o&&o(i),t.attr("value",u),t.css("width","auto")},this.timer=setTimeout(function(){return i&&i.abort(),i=e.ajax(n)},n.afterTypeDelay)))})})}}(jQuery);