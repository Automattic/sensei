$base: '.sensei-course-theme';

@keyframes sensei-learning-mode-collapse {
	0% { transform: translateX(0) scale(1) rotate(180deg); }
	50% { transform: translateX(-3px) scale(1.05) rotate(180deg); }
	100% { transform: translateX(0) scale(1) rotate(180deg); }
}

@keyframes sensei-learning-mode-expand {
	0% { transform: translateX(0) scale(1); }
	50% { transform: translateX(3px) scale(1.05); }
	100% { transform: translateX(0) scale(1); }
}

@media screen and (min-width: $breakpoint ) {
	.sensei-course-theme__focus-mode-toggle {
		.sensei-course-theme--focus-mode & {
			position: absolute;
			left: 20px;
		}
		padding: 4px;
		white-space: nowrap;
		display: flex;
		flex-direction: row-reverse;
		align-items: center;
		gap: 12px;
		border: none;
		background-color: var(--bg-color);

		&__disable {
			display: none;
		}

		.sensei-course-theme__focus-mode-toggle-icon {
			width: 10px;
			height: 10px;
			transform: rotate(180deg);
		}

		&:hover {
			.sensei-course-theme__focus-mode-toggle-icon {
				animation: sensei-learning-mode-collapse 0.8s infinite;
			}
		}
	}

	.sensei-course-theme--focus-mode {
		--header-height: 45px;

		.sensei-course-theme {
			&__header {
				&__container {
					height: 39px;
					overflow: hidden;
				}
				.sensei-course-theme-course-progress, .sensei-course-theme-prev-next-lesson-text {
					display: none;
				}
				.wp-block-site-logo {
					margin-right: -12px;
					img {
						max-height: 0;
					}
				}
				.wp-block-sensei-lms-course-title {
					font-size: 16px;
				}
				.sensei-course-theme-course-progress-bar {
					height: 6px;
				}
				.sensei-course-theme__button {
					font-size: 12px;
					padding: 3px 8px;
					font-weight: 700;
				}
			}

			&__sidebar {
				left: -400px;
				overflow: visible;
			}
			&__main-content {
				margin-left: 0 !important;
			}
			&__focus-mode-toggle {
				top: 0;
				left: 400px;
				width: 100vw;
				flex-direction: row;
				&__enable {
					display: none;
				}
				&__disable {
					display: revert;
				}
				.sensei-course-theme__focus-mode-toggle-icon {
					transform: none;
				}
				&:hover {
					.sensei-course-theme__focus-mode-toggle-icon {
						animation-name: sensei-learning-mode-expand;
					}
				}
			}
		}
		&--animated {
			@media screen and (prefers-reduced-motion: no-preference) {
				* {
					transition: all 300ms ease-out;
				}
			}
		}
	}
}
