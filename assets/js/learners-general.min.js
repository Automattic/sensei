jQuery(document).ready(function(e){jQuery.fn.exists=function(){return this.length>0},jQuery("#course-category-options").on("change","",function(){var e="course_cat="+jQuery(this).val();jQuery.post(ajaxurl,{action:"get_redirect_url_learners",data:e},function(e){""!=e&&(window.location=e)})}),jQuery(".remove-learner, .reset-learner").click(function(e){var r="",a=jQuery(this).attr("data-user_id"),s=jQuery(this).attr("data-post_id"),o=jQuery(this).attr("data-post_type"),t=woo_learners_general_data.remove_generic_confirm,n={reset:{lesson:woo_learners_general_data.reset_lesson_confirm,course:woo_learners_general_data.reset_course_confirm,action:"reset_user_post"},remove:{lesson:woo_learners_general_data.remove_from_lesson_confirm,course:woo_learners_general_data.remove_from_course_confirm,action:"remove_user_from_post"}},_=jQuery(e.target).hasClass("remove-learner")?"remove":"reset";if(t=n[_][o],confirm(t)){var c=jQuery(this).closest("tr");"remove"===_&&c.fadeTo("fast",.33),a&&s&&o&&(r+="user_id="+a,r+="&post_id="+s,r+="&post_type="+o,jQuery.post(ajaxurl,{action:n[_].action,modify_user_post_nonce:woo_learners_general_data.modify_user_post_nonce,data:r},function(e){if(e)switch(_){case"remove":c.remove();break;case"reset":c.find(".graded").html(slgL10n.inprogress).removeClass("graded").addClass("in-progress")}}))}}),ajaxData={action:"sensei_json_search_users",security:woo_learners_general_data.search_users_nonce,"default":""},jQuery("select#add_learner_search").select2({minimumInputLength:3,placeholder:woo_learners_general_data.selectplaceholder,width:"300px",ajax:{url:ajaxurl,dataType:"json",cache:!0,id:function(e){return bond._id},data:function(e){return{term:e.term,page:e.page||1,action:"sensei_json_search_users",security:woo_learners_general_data.search_users_nonce,"default":""}},processResults:function(e,r){var a=[];return jQuery.each(e,function(e,r){jQuery.isEmptyObject(r)||(validUser={id:e,text:r},a.push(validUser))}),{results:a,page:r}}}}),jQuery("#course-category-options").exists()&&jQuery("#course-category-options").select2()});