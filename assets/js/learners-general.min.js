"use strict";jQuery(document).ready(function(i){jQuery.fn.exists=function(){return 0<this.length},jQuery(".edit-start-date-date-picker").datepicker({dateFormat:"yy-mm-dd"}),jQuery("#course-category-options").on("change","",function(){var e="course_cat="+jQuery(this).val();jQuery.post(ajaxurl,{action:"get_redirect_url_learners",data:e,security:window.woo_learners_general_data.course_category_nonce},function(e){""!=e&&(window.location=e)})}),i(".edit-start-date-submit").click(function(){var e=i(this),r=e.prev(".edit-start-date-date-picker").val(),t=e.attr("data-user-id"),a=e.attr("data-post-id"),o=e.attr("data-post-type"),s=e.attr("data-comment-id"),n="";t&&a&&o&&r&&s&&(n+="user_id="+t,n+="&post_id="+a,n+="&post_type="+o,n+="&new_date="+r,n+="&comment_id="+s,i.post(ajaxurl,{action:"edit_date_started",data:n,security:window.woo_learners_general_data.edit_date_nonce},function(e){e&&location.reload()}))}),jQuery(".remove-learner, .reset-learner").click(function(e){var r="",t=jQuery(this).attr("data-user-id"),a=jQuery(this).attr("data-post-id"),o=jQuery(this).attr("data-post-type"),s=window.woo_learners_general_data.remove_generic_confirm,n={reset:{lesson:window.woo_learners_general_data.reset_lesson_confirm,course:window.woo_learners_general_data.reset_course_confirm,action:"reset_user_post"},remove:{lesson:window.woo_learners_general_data.remove_from_lesson_confirm,course:window.woo_learners_general_data.remove_from_course_confirm,action:"remove_user_from_post"},edit_date:{action:"edit_date_started"}},i=jQuery(e.target).hasClass("remove-learner")?"remove":"reset";if(s=n[i][o],confirm(s)){var d=jQuery(this).closest("tr");"remove"===i&&d.fadeTo("fast",.33),t&&a&&o&&(r+="user_id="+t,r+="&post_id="+a,r+="&post_type="+o,jQuery.post(ajaxurl,{action:n[i].action,data:r,security:window.woo_learners_general_data.modify_user_post_nonce},function(e){if(e)switch(i){case"remove":d.remove();break;case"reset":d.find(".graded").html(window.slgL10n.inprogress).removeClass("graded").addClass("in-progress")}}))}}),jQuery("select#add_learner_search").select2({minimumInputLength:3,placeholder:window.woo_learners_general_data.selectplaceholder,width:"300px",ajax:{url:window.ajaxurl,dataType:"json",cache:!0,id:function(e){return e._id},data:function(e){return{term:e.term,page:e.page||1,action:"sensei_json_search_users",security:window.woo_learners_general_data.search_users_nonce,default:""}},processResults:function(e,r){var t=[];return jQuery.each(e,function(e,r){jQuery.isEmptyObject(r)||t.push({id:e,text:r})}),{results:t,page:r}}}}),jQuery("#course-category-options").exists()&&jQuery("#course-category-options").select2()});