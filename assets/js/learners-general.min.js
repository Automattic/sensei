jQuery(document).ready(function(e){jQuery.fn.exists=function(){return this.length>0},jQuery("#course-category-options").on("change","",function(){var e="course_cat="+jQuery(this).val();jQuery.post(ajaxurl,{action:"get_redirect_url_learners",data:e},function(e){""!=e&&(window.location=e)})}),jQuery(".remove-learner").click(function(){var r="",a=jQuery(this).attr("data-user_id"),t=jQuery(this).attr("data-post_id"),o=jQuery(this).attr("data-post_type"),s=jQuery(this).attr("data-course_reset"),n=woo_learners_general_data.remove_generic_confirm;switch(o){case"lesson":n=woo_learners_general_data.remove_from_lesson_confirm;break;case"course":if(1==s){n=woo_learners_general_data.reset_user_course_confirm;break}n=woo_learners_general_data.remove_from_course_confirm}var u=jQuery(this).attr("data-order_id");u&&(n=woo_learners_general_data.remove_from_purchased_course_confirm);var _=confirm(n);if(_){var c=jQuery(this).closest("tr");c.fadeTo("fast",.33),a&&t&&o&&(r+="user_id="+a,r+="&post_id="+t,r+="&post_type="+o,r+="&order_id="+u,r+="&course_reset="+s,jQuery.post(ajaxurl,{action:"remove_user_from_post",remove_user_from_post_nonce:woo_learners_general_data.remove_user_from_post_nonce,data:r},function(r){r&&0==s?c.remove():(c.css("background-color","#ffffe0").fadeTo("fast",1),c.delay(800),c.queue(function(r){e(this).css("background-color","initial"),r()}))}))}}),ajaxData={action:"sensei_json_search_users",security:woo_learners_general_data.search_users_nonce,"default":""},jQuery("input#add_learner_search").select2({minimumInputLength:3,placeholder:woo_learners_general_data.selectplaceholder,width:"300px",ajax:{url:ajaxurl,dataType:"json",cache:!0,id:function(){return bond._id},data:function(e,r){return{term:e,page:r||1,action:"sensei_json_search_users",security:woo_learners_general_data.search_users_nonce,"default":""}},results:function(e){var r=[];return jQuery.each(e,function(e,a){jQuery.isEmptyObject(a)||(validUser={id:e,details:a},r.push(validUser))}),{results:r}}},initSelection:function(){},formatResult:function(e){return e.details},formatSelection:function(e){return e.details}}),jQuery("#course-category-options").exists()&&jQuery("#course-category-options").select2()});