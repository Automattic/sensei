"use strict";jQuery(document).ready(function(){var r=jQuery.noConflict(),e=window.React,t=window.ReactDOM,n=e.createClass({render:function(){return e.createElement("div",null,e.createElement("h3",null,"result"),e.createElement("pre",null,JSON.stringify(this.props.result,null,4)))}}),a=e.createClass({onUpdate:function(e){if(e.preventDefault(),this.props.onUpdate){var t=e.target.value.trim();this.props.onUpdate(this.props.name,t)}},render:function(){return e.createElement("div",{className:""},e.createElement("label",{for:this.props.name},this.props.name.split("_").join(" ")),e.createElement("br",null),e.createElement("input",{type:this.props.type,name:this.props.name,value:this.props.value,onChange:this.onUpdate}))}}),s=e.createClass({render:function(){return e.createElement("form",{onSubmit:this.props.onSubmit},e.createElement("h1",{className:"wp-heading-inline"},"Sensei REST API Test Harness"),e.createElement(a,{type:"text",name:"url",value:this.props.request.url,onUpdate:this.props.onUpdate}),e.createElement(a,{type:"text",name:"method",value:this.props.request.method,onUpdate:this.props.onUpdate}),e.createElement(a,{type:"text",name:"data",value:this.props.request.data,onUpdate:this.props.onUpdate}),e.createElement("button",{className:"button button-primary button-large"},"Perform"))}}),u=function(e,t){switch(void 0===e&&(e={request:{method:"GET",url:"sensei/v1/courses",data:"{}"},result:{}}),t.type){case i.UPDATE_REQUEST_FIELD:var n=r.extend({},e.request);return n[t.name]=t.value,{request:n,result:e.result};case i.UPDATE_RESULT:return{request:e.request,result:t.result};default:return e}},i={UPDATE_REQUEST_FIELD:"UPDATE_REQUEST_FIELD",UPDATE_RESULT:"UPDATE_RESULT"},o=e.createClass({dispatch:function(t){this.setState(function(e){return u(e,t)})},getInitialState:function(){return u(void 0,{})},render:function(){return e.createElement("div",{className:"wrapper"},e.createElement(s,{request:this.state.request,onSubmit:this.handleSubmit,onUpdate:this.handleFormUpdate}),e.createElement(n,{result:this.state.result}))},handleFormUpdate:function(e,t){this.dispatch({type:i.UPDATE_REQUEST_FIELD,name:e,value:t})},handleSubmit:function(e){var t=this;e.preventDefault(),r.ajax({url:window.wpApiSettings.root+t.state.request.url,method:t.state.request.method,dataType:"json",beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",window.wpApiSettings.nonce)},data:t.state.request.data?JSON.parse(t.state.request.data):{}}).done(function(e){t.dispatch({type:i.UPDATE_RESULT,result:e})}).fail(function(e){t.dispatch({type:i.UPDATE_RESULT,result:e.responseJSON})})}});t.render(e.createElement(o,{},null),document.getElementById("testharness-app"))});