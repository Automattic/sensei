"use strict";jQuery(document).ready(function(){var e=jQuery.noConflict(),t=window.React,n=window.ReactDOM,r=t.createClass({render:function(){return t.createElement("div",null,t.createElement("h3",null,"result"),t.createElement("pre",null,JSON.stringify(this.props.result,null,4)))}}),a=t.createClass({onUpdate:function(e){if(e.preventDefault(),this.props.onUpdate){var t=e.target.value.trim();this.props.onUpdate(this.props.name,t)}},render:function(){return t.createElement("div",{className:""},t.createElement("label",{"for":this.props.name},this.props.name.split("_").join(" ")),t.createElement("br",null),t.createElement("input",{type:this.props.type,name:this.props.name,value:this.props.value,onChange:this.onUpdate}))}}),s=t.createClass({render:function(){return t.createElement("form",{onSubmit:this.props.onSubmit},t.createElement("h1",{className:"wp-heading-inline"},"Sensei REST API Test Harness"),t.createElement(a,{type:"text",name:"url",value:this.props.request.url,onUpdate:this.props.onUpdate}),t.createElement(a,{type:"text",name:"method",value:this.props.request.method,onUpdate:this.props.onUpdate}),t.createElement(a,{type:"text",name:"data",value:this.props.request.data,onUpdate:this.props.onUpdate}),t.createElement("button",{className:"button button-primary button-large"},"Perform"))}}),u=function(t,n){switch("undefined"==typeof t&&(t={request:{method:"GET",url:"sensei/v1/courses",data:"{}"},result:{}}),n.type){case i.UPDATE_REQUEST_FIELD:var r=e.extend({},t.request);return r[n.name]=n.value,{request:r,result:t.result};case i.UPDATE_RESULT:return{request:t.request,result:n.result};default:return t}},i={UPDATE_REQUEST_FIELD:"UPDATE_REQUEST_FIELD",UPDATE_RESULT:"UPDATE_RESULT"},o=t.createClass({dispatch:function(e){this.setState(function(t){return u(t,e)})},getInitialState:function(){return u(void 0,{})},render:function(){var e=t.createElement("div",{className:"wrapper"},t.createElement(s,{request:this.state.request,onSubmit:this.handleSubmit,onUpdate:this.handleFormUpdate}),t.createElement(r,{result:this.state.result}));return e},handleFormUpdate:function(e,t){this.dispatch({type:i.UPDATE_REQUEST_FIELD,name:e,value:t})},handleSubmit:function(t){var n=this;t.preventDefault(),e.ajax({url:window.wpApiSettings.root+n.state.request.url,method:n.state.request.method,dataType:"json",beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",window.wpApiSettings.nonce)},data:n.state.request.data?JSON.parse(n.state.request.data):{}}).done(function(e){n.dispatch({type:i.UPDATE_RESULT,result:e})}).fail(function(e){n.dispatch({type:i.UPDATE_RESULT,result:e.responseJSON})})}});n.render(t.createElement(o,{},null),document.getElementById("testharness-app"))});