jQuery(document).ready(function(e){var t;jQuery.fn.exists=function(){return this.length>0};jQuery.fn.validateCourseInput=function(e){return jQuery("#course-title").val().replace(/^\s+|\s+$/g,"").length!=0?!0:!1};jQuery.fn.validateQuestionInput=function(e,t){if("add"==e)return jQuery("#add_question").val().replace(/^\s+|\s+$/g,"").length!=0?!0:!1;if("edit"==e){var n=t.closest("tr").prev("tr").find("td:first").text();return jQuery("#question_"+n).val().replace(/^\s+|\s+$/g,"").length!=0?!0:!1}return!1};jQuery.fn.resetQuestionTable=function(){jQuery("tr.question-quick-edit").each(function(){jQuery(this).hasClass("hidden")||jQuery(this).addClass("hidden")})};jQuery.fn.resetAddQuestionForm=function(){jQuery("#add-new-question").find("div").find("input").each(function(){jQuery(this).attr("type")!="radio"&&jQuery(this).attr("value","")});jQuery("#add-new-question").find("div").find("textarea").each(function(){jQuery(this).attr("value","")})};jQuery.fn.checkQuizGradeType=function(e){var t,n=[];jQuery("#add-question-metadata > table > tbody > tr input.question_type").each(function(){t=jQuery(this).val();n.push(t)});e&&n.push(e);var r,i=!1;for(var s=0;s<n.length;s++){r=n[s];if(!i)switch(r){case"multiple-choice":i=!1;break;case"boolean":i=!1;break;case"gap-fill":i=!0;break;case"multi-line":i=!0;break;case"single-line":i=!0;break;case"file-upload":i=!0;break;default:i=!1}}if(i){jQuery("input#quiz_grade_type").prop("checked",!1);jQuery("input#quiz_grade_type").attr("disabled","disabled");jQuery("input#quiz_grade_type").closest("p.form-field").addClass("disabled");jQuery("input#quiz_grade_type_disabled").val("disabled")}else{jQuery("input#quiz_grade_type").removeAttr("disabled");jQuery("input#quiz_grade_type").closest("p.form-field").removeClass("disabled");jQuery("input#quiz_grade_type_disabled").val("enabled")}jQuery.fn.saveQuizGradeType()};jQuery.fn.updateQuestionCount=function(e,t){var n=parseInt(jQuery("#question_counter").attr("value")),r=n;e=parseInt(e);t=="-"?r=n-e:r=n+e;jQuery("#question_counter").attr("value",r);r>0?jQuery("#no-questions-message").hasClass("hidden")||jQuery("#no-questions-message").addClass("hidden"):jQuery("#no-questions-message").removeClass("hidden");jQuery.fn.updateQuestionRows()};jQuery.fn.saveQuizGradeType=function(){var e=jQuery("input#quiz_grade_type").is(":checked")?"auto":"manual",t=jQuery("input#quiz_grade_type_disabled").val(),n="quiz_grade_type="+e;n+="&quiz_grade_type_disabled="+t;n+="&quiz_id="+jQuery("#quiz_id").attr("value");jQuery.post(ajaxurl,{action:"lesson_update_grade_type",lesson_update_grade_type_nonce:woo_localized_data.lesson_update_grade_type_nonce,data:n},function(e){});return!1};jQuery.fn.saveQuestionOrder=function(e){var t="question_order="+e;t+="&quiz_id="+jQuery("#quiz_id").attr("value");jQuery.post(ajaxurl,{action:"lesson_update_question_order",lesson_update_question_order_nonce:woo_localized_data.lesson_update_question_order_nonce,data:t},function(e){});return!1};jQuery.fn.saveQuestionOrderRandom=function(){var e=jQuery("input#random_question_order").is(":checked")?"yes":"no",t="random_question_order="+e;t+="&quiz_id="+jQuery("#quiz_id").attr("value");jQuery.post(ajaxurl,{action:"lesson_update_question_order_random",lesson_update_question_order_random_nonce:woo_localized_data.lesson_update_question_order_random_nonce,data:t},function(e){});return!1};jQuery.fn.updateQuestionRows=function(){var e=1,t="alternate";jQuery("#add-question-metadata").find("td.question-number").each(function(){jQuery(this).find("span.number").text(e);jQuery(this).closest("tbody").removeClass().addClass(t);"alternate"==t?t="":t="alternate";if(""!=jQuery(this).find("span.total-number").text()){var n=parseInt(jQuery(this).find("span.total-number").text()),r=e+n-1,i="";e==r?i=e:i=e+" - "+r;jQuery(this).find("span.row-numbers").text(i);e+=n}else e++})};jQuery.fn.updateQuestionOrder=function(){var e="";jQuery("#sortable-questions").find("input.row_question_id").each(function(t,n){t>0&&(e+=",");e+=jQuery(this).val()});jQuery("input#question-order").attr("value",e);jQuery.fn.saveQuestionOrder(e)};jQuery.fn.uploadQuestionMedia=function(e){var n=e.attr("id"),r=n.replace("_button",""),i=n.replace("_button","_preview"),s=n.replace("_button","_link"),o=n.replace("_button","_button_delete");t=wp.media.frames.file_frame=wp.media({title:e.data("uploader_title"),button:{text:e.data("uploader_button_text")},multiple:!1});t.on("select",function(){attachment=t.state().get("selection").first().toJSON();jQuery("#"+r).val(attachment.id);var n=attachment.type,u=!1;"image"==n&&(u=!0);var a=attachment.title;if(!a||a=="")a=attachment.filename;var f='<a class="'+n+'" href="'+attachment.url+'" target="_blank">'+a+"</a>";jQuery("#"+s).removeClass("hidden");jQuery("#"+s).html(f);if(u){jQuery("#"+i).removeClass("hidden");jQuery("#"+i).attr("src",attachment.sizes.thumbnail.url)}else{jQuery("#"+i).addClass("hidden");jQuery("#"+i).attr("src","")}e.text(woo_localized_data.change_file);jQuery("#"+o).removeClass("hidden")});t.open()};jQuery.fn.deleteQuestionMedia=function(e){var t=e.attr("id"),n=t.replace("_button_delete","_button"),r=t.replace("_button_delete",""),i=t.replace("_button_delete","_preview"),s=t.replace("_button_delete","_link");jQuery("#"+r).val("");jQuery("#"+i).addClass("hidden");jQuery("#"+i).attr("src","");jQuery("#"+s).addClass("hidden");jQuery("#"+s).html();jQuery("#"+n).text(woo_localized_data.add_file);e.addClass("hidden")};jQuery.fn.updateAnswerOrder=function(e){var t="",n="";e.find("input.question_answer").each(function(e,r){t=jQuery(this).attr("rel");if(""!=t){e>0&&(n+=",");n+=jQuery(this).attr("rel")}});e.find("input.answer_order").attr("value",n)};jQuery.fn.htmlentities=function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")};jQuery.fn.ucwords=function(e){e=e.toLowerCase();e=e.replace("-"," ");e=e.replace("boolean","True/False");return e.replace(/(^([a-zA-Z\p{M}]))|([ -][a-zA-Z\p{M}])/g,function(e){return e.toUpperCase()})};jQuery.fn.filterExistingQuestions=function(e){var t="",n="",r="",i="",s="",o=1;jQuery("tbody#existing-questions").fadeTo("fast",.33);n=jQuery("#existing-status").val();t+="question_status="+n;if(""!=jQuery("#existing-type").val()){r=jQuery("#existing-type").val();t+="&question_type="+r}if(""!=jQuery("#existing-category").val()){i=jQuery("#existing-category").val();t+="&question_category="+i}if(""!=jQuery("#existing-search").val()){s=jQuery("#existing-search").val();t+="&question_search="+s}e?o=e:o=jQuery("#existing-page").val();t+="&question_page="+o;jQuery.post(ajaxurl,{action:"filter_existing_questions",filter_existing_questions_nonce:woo_localized_data.filter_existing_questions_nonce,data:t},function(e){if(e){var t=parseInt(e.count),n=parseInt(e.page),r=n*10;jQuery("tbody#existing-questions").html(e.html);jQuery("tbody#existing-questions").fadeTo("fast",1);jQuery("#existing-page").val(n);1<n?jQuery("#existing-pagination .prev").removeClass("no-paging"):jQuery("#existing-pagination .prev").addClass("no-paging");r<=t?jQuery("#existing-pagination .next").removeClass("no-paging"):jQuery("#existing-pagination .next").addClass("no-paging")}});return!1};jQuery.fn.scrollToElement=function(e){var t=30,n=800,r=jQuery(e).offset().top-t;jQuery("html:not(:animated),body:not(:animated)").animate({scrollTop:r},n);return!1};jQuery("#add-quiz-main button.add_quiz").click(function(){jQuery("#add-quiz-metadata").show();jQuery("#add-quiz-main > p:first").hide()});jQuery("input.gapfill-field").each(function(){jQuery(this).change(function(){var e=jQuery(this).parent("div").find("input[name=add_question_right_answer_gapfill_pre]").val(),t=jQuery(this).parent("div").find("input[name=add_question_right_answer_gapfill_gap]").val(),n=jQuery(this).parent("div").find("input[name=add_question_right_answer_gapfill_post]").val();jQuery(this).parent("div").find("p.gapfill-preview").html(e+" <u>"+t+"</u> "+n)});jQuery(this).keyup(function(){var e=jQuery(this).parent("div").find("input[name=add_question_right_answer_gapfill_pre]").val(),t=jQuery(this).parent("div").find("input[name=add_question_right_answer_gapfill_gap]").val(),n=jQuery(this).parent("div").find("input[name=add_question_right_answer_gapfill_post]").val();jQuery(this).parent("div").find("p.gapfill-preview").html(e+" <u>"+t+"</u> "+n)})});jQuery("#add-quiz-metadata").on("change","#quiz_grade_type",function(){jQuery.fn.saveQuizGradeType()});jQuery("#lesson-course-add").click(function(){jQuery("#lesson-course-actions").hide();jQuery("#lesson-course-details").removeClass("hidden")});jQuery("#lesson-course-details p").on("click","a.lesson_course_cancel",function(){jQuery("#lesson-course-actions").show();jQuery("#lesson-course-details").addClass("hidden")});jQuery("#lesson-course-details p").on("click","a.lesson_course_save",function(){var e=jQuery.fn.validateCourseInput();if(e){var t="";t+="course_prerequisite="+jQuery("#course-prerequisite-options").val();t+="&course_woocommerce_product="+jQuery("#course-woocommerce-product-options").val();t+="&course_category="+jQuery("#course-category-options").val();t+="&course_title="+encodeURIComponent(jQuery("#course-title").attr("value"));t+="&course_content="+encodeURIComponent(jQuery("#course-content").attr("value"));t+="&action=add";jQuery.post(ajaxurl,{action:"lesson_add_course",lesson_add_course_nonce:woo_localized_data.lesson_add_course_nonce,data:t},function(e){if(0<e){jQuery("#lesson-course-actions").show();jQuery("#lesson-course-details").addClass("hidden");jQuery("#lesson-course-options").append(jQuery("<option></option>").attr("value",e).text(jQuery("#course-title").attr("value")));jQuery("#lesson-course-options").val(e);jQuery("#lesson-course-options").trigger("chosen:updated")}});return!1}jQuery("#course-title").focus()});jQuery("#add-question-actions").on("change","select.question-type-select",function(){var e=jQuery(this).val();jQuery("#add-new-question").find("div.question_default_fields").hide();jQuery("#add-new-question").find("div.question_boolean_fields").hide();jQuery("#add-new-question").find("div.question_gapfill_fields").hide();jQuery("#add-new-question").find("div.question_multiline_fields").hide();jQuery("#add-new-question").find("div.question_singleline_fields").hide();jQuery("#add-new-question").find("div.question_fileupload_fields").hide();jQuery(".add_question_random_order").hide();switch(e){case"multiple-choice":jQuery("#add-new-question").find("div.question_default_fields").show();jQuery(".add_question_random_order").show();break;case"boolean":jQuery("#add-new-question").find("div.question_boolean_fields").show();break;case"gap-fill":jQuery("#add-new-question").find("div.question_gapfill_fields").show();break;case"multi-line":jQuery("#add-new-question").find("div.question_multiline_fields").show();break;case"single-line":jQuery("#add-new-question").find("div.question_singleline_fields").show();break;case"file-upload":jQuery("#add-new-question").find("div.question_fileupload_fields").show()}});jQuery("#add-question-metadata").on("click","a.question_table_edit",function(){var e=jQuery(this).closest("tr").next("tr").find(".question_original_counter").text();jQuery("#add-question-actions button.add_question_answer").removeClass("hidden");jQuery.fn.resetAddQuestionForm();jQuery.fn.resetQuestionTable();jQuery(this).closest("tr").next("tr").removeClass("hidden");jQuery("#question_"+e).focus()});jQuery("#add-question-metadata").on("click","a.lesson_question_cancel",function(){jQuery(this).closest("tr.question-quick-edit").addClass("hidden")});jQuery("#add-new-question").on("click","a.add_question_save",function(){var e="",t="multiple-choice",n="",r="true",i=jQuery.fn.validateQuestionInput("add",jQuery(this));if(i){e+="quiz_id="+jQuery("#quiz_id").attr("value");e+="&action=add";jQuery("#add-question-type-options").val()!=""&&(t=jQuery("#add-question-type-options").val());jQuery("#add-question-category-options").val()!=""&&(n=jQuery("#add-question-category-options").val());var s="question_default_fields";switch(t){case"multiple-choice":s="question_default_fields";break;case"boolean":s="question_boolean_fields";break;case"gap-fill":s="question_gapfill_fields";break;case"multi-line":s="question_multiline_fields";break;case"single-line":s="question_singleline_fields";break;case"file-upload":s="question_fileupload_fields"}jQuery("#add-new-question").find("div.question_required_fields").find("input").each(function(){jQuery(this).attr("type")!="radio"&&(e+="&"+jQuery(this).attr("name")+"="+encodeURIComponent(jQuery(this).attr("value")))});var o=0;jQuery("#add-new-question").find("div."+s).find("input").each(function(){if(jQuery(this).attr("type")=="radio"){if(o==0){r=jQuery("input[name="+jQuery(this).attr("name")+"]:checked").attr("value");e+="&"+jQuery(this).attr("name")+"="+r;o++}}else e+="&"+jQuery(this).attr("name")+"="+encodeURIComponent(jQuery(this).attr("value"))});jQuery("#add_question_right_answer_essay").val()!=""&&s=="question_essay_fields"&&(e+="&"+jQuery("#add_question_right_answer_essay").attr("name")+"="+encodeURIComponent(jQuery("#add_question_right_answer_essay").val()));jQuery("#add_question_right_answer_multiline").val()!=""&&s=="question_multiline_fields"&&(e+="&"+jQuery("#add_question_right_answer_multiline").attr("name")+"="+encodeURIComponent(jQuery("#add_question_right_answer_multiline").val()));e+="&question_type="+t;e+="&question_category="+n;questionGrade=jQuery("#add-question-grade").val();e+="&question_grade="+questionGrade;var u=parseInt(jQuery("#question_counter").attr("value"));e+="&question_count="+u;var a=jQuery("#add-new-question").find(".answer_order").attr("value");e+="&answer_order="+a;var f=jQuery("#add-new-question").find(".question_media").attr("value");e+="&question_media="+f;if(""!=jQuery("div#add-new-question").find("div."+s).find(".answer_feedback").exists()){var l=jQuery("#add-new-question").find("div."+s).find(".answer_feedback").attr("value");e+="&answer_feedback="+l}var c="no";jQuery("div#add-new-question").find(".random_order").is(":checked")&&(c="yes");e+="&random_order="+c;jQuery.post(ajaxurl,{action:"lesson_update_question",lesson_update_question_nonce:woo_localized_data.lesson_update_question_nonce,data:e},function(e){if(e){jQuery.fn.updateQuestionCount(1,"+");jQuery("#add-question-metadata table").append(e);jQuery.fn.resetAddQuestionForm();jQuery.fn.checkQuizGradeType(t);var n=jQuery("#show_questions").attr("max");n++;jQuery("#show_questions").attr("max",n);jQuery.fn.scrollToElement("#lesson-quiz")}});return!1}jQuery("#add_question").focus()});jQuery("#add-new-question").on("click","a.add_multiple_save",function(){var e="",t="",n=0;e+="quiz_id="+jQuery("#quiz_id").attr("value");jQuery("#add-multiple-question-count").val()!=""&&(n=parseInt(jQuery("#add-multiple-question-count").val()));e+="&question_number="+n;var r=parseInt(jQuery("#add-multiple-question-count").attr("max"));if(n>r){alert(woo_localized_data.too_many_for_cat);jQuery("#add-multiple-question-count").focus();return!1}jQuery("#add-multiple-question-category-options").val()!=""&&(t=jQuery("#add-multiple-question-category-options").val());e+="&question_category="+t;var i=parseInt(jQuery("#question_counter").attr("value"));e+="&question_count="+i;if(t&&n){jQuery.post(ajaxurl,{action:"lesson_add_multiple_questions",lesson_add_multiple_questions_nonce:woo_localized_data.lesson_add_multiple_questions_nonce,data:e},function(e){if(e){jQuery("#add-multiple-question-category-options").val("");jQuery("#add-multiple-question-count").val("1");jQuery.fn.updateQuestionCount(n,"+");jQuery("#add-question-metadata table").append(e);jQuery.fn.updateQuestionOrder();var t=jQuery("#show_questions").attr("max");t+=n;jQuery("#show_questions").attr("max",t);jQuery.fn.scrollToElement("#lesson-quiz")}});return!1}jQuery("#add-multiple-question-category-options").focus()});jQuery("#add-question-metadata").on("click","a.question_table_save",function(){var e="",t="",n=jQuery.fn.validateQuestionInput("edit",jQuery(this));if(n){e+="quiz_id="+jQuery("#quiz_id").attr("value");e+="&action=save";jQuery(this).closest("td").children("input").each(function(){e+="&"+jQuery(this).attr("name")+"="+encodeURIComponent(jQuery(this).attr("value"))});t=jQuery(this).closest("td").find("span.question_original_counter").text();jQuery(this).closest("td").find("input.question_type").val()!=""&&(questionType=jQuery(this).closest("td").find("input.question_type").val());var r="question_default_fields";switch(questionType){case"multiple-choice":r="question_default_fields";break;case"boolean":r="question_boolean_fields";break;case"gap-fill":r="question_gapfill_fields";break;case"essay-paste":r="question_essay_fields";break;case"multi-line":r="question_multiline_fields";break;case"single-line":r="question_singleline_fields";break;case"file-upload":r="question_fileupload_fields"}jQuery(this).closest("td").find("div.question_required_fields").find("input").each(function(){jQuery(this).attr("type")!="radio"&&(e+="&"+jQuery(this).attr("name")+"="+encodeURIComponent(jQuery(this).attr("value")))});var i=0;jQuery(this).closest("td").find("div."+r).find("input").each(function(){if(jQuery(this).attr("type")=="radio"){if(i==0){e+="&"+jQuery(this).attr("name")+"="+jQuery("input[name="+jQuery(this).attr("name")+"]:checked").attr("value");i++}}else e+="&"+jQuery(this).attr("name")+"="+encodeURIComponent(jQuery(this).attr("value"))});jQuery(this).closest("td").find("div."+r).find("textarea").val()!=""&&r=="question_multiline_fields"&&(e+="&"+jQuery(this).closest("td").find("div."+r).find("textarea").attr("name")+"="+encodeURIComponent(jQuery(this).closest("td").find("div."+r).find("textarea").val()));r=="question_fileupload_fields"&&jQuery(this).closest("td").find("div."+r).find("textarea").each(function(){e+="&"+jQuery(this).attr("name")+"="+encodeURIComponent(jQuery(this).val())});e+="&question_type="+questionType;questionGrade=jQuery(this).closest("td").find("input.question_grade").val();e+="&question_grade="+questionGrade;var s=parseInt(jQuery("#question_counter").attr("value"));e+="&question_count="+s;var o=jQuery(this).closest("td").find(".answer_order").attr("value");e+="&answer_order="+o;var u=jQuery(this).closest("td").find(".question_media").attr("value");e+="&question_media="+u;if(""!=jQuery(this).closest("td").find(".answer_feedback").exists()){var a=jQuery(this).closest("td").find(".answer_feedback").attr("value");e+="&answer_feedback="+a}var f="no";jQuery(this).closest("td").find(".random_order").is(":checked")&&(f="yes");e+="&random_order="+f;jQuery.post(ajaxurl,{action:"lesson_update_question",lesson_update_question_nonce:woo_localized_data.lesson_update_question_nonce,data:e},function(e){e&&jQuery("#question_"+t).closest("tr").addClass("hidden")});return!1}});jQuery("#add-question-metadata").on("click","a.question_table_delete",function(){var e="",t="",n="",r="",i=confirm(woo_localized_data.confirm_remove);if(i){e+="&action=delete";jQuery(this).closest("tr").next("tr").find("td").find("input").each(function(){if(jQuery(this).attr("name")=="question_id"){t=jQuery(this).attr("value");e+="&question_id="+jQuery(this).attr("value")}});e+="&quiz_id="+jQuery("#quiz_id").attr("value");r=jQuery(this).closest("tr").find("td.question-number span.number").text();var s=jQuery(this).closest("tbody");jQuery.post(ajaxurl,{action:"lesson_update_question",lesson_update_question_nonce:woo_localized_data.lesson_update_question_nonce,data:e},function(e){if(e){jQuery("#add-question-metadata > table > tbody > tr").children("td").each(function(){if(jQuery(this).find("span.number").text()==r){jQuery(this).closest("tr").next("tr").remove();jQuery(this).closest("tr").remove();return!1}});jQuery.fn.updateQuestionCount(1,"-");jQuery.fn.checkQuizGradeType(!1);jQuery.fn.updateAnswerOrder(s);var t=parseInt(jQuery("#show_questions").attr("max"));t--;jQuery("#show_questions").attr("max",t);var n=parseInt(jQuery("#show_questions").val());n>t&&jQuery("#show_questions").val(t)}});return!1}});jQuery("#add-question-metadata").on("click","a.question_multiple_delete",function(){var e="",t=confirm(woo_localized_data.confirm_remove_multiple);if(t){e+="question_id="+jQuery(this).attr("rel");e+="&quiz_id="+jQuery("#quiz_id").attr("value");var n=jQuery(this).closest("tr").find("td.question-number span.number").text(),r=jQuery(this).closest("tr").find("td.question-number span.total-number").text(),i=jQuery(this).closest("tbody");jQuery.post(ajaxurl,{action:"lesson_remove_multiple_questions",lesson_remove_multiple_questions_nonce:woo_localized_data.lesson_remove_multiple_questions_nonce,data:e},function(e){if(e){jQuery("#add-question-metadata > table > tbody > tr").children("td").each(function(){if(jQuery(this).find("span.number").text()==n){jQuery(this).closest("tr").remove();return!1}});jQuery.fn.updateQuestionCount(r,"-");var t=parseInt(jQuery("#show_questions").attr("max"));t-=r;jQuery("#show_questions").attr("max",t);var i=parseInt(jQuery("#show_questions").val());i>t&&jQuery("#show_questions").val(t)}});return!1}});jQuery("#add-new-question").on("click","a.add_existing_save",function(){var e="",t="",n=0;jQuery("#existing-questions").find("input.existing-item").each(function(){if(jQuery(this).is(":checked")){var t=jQuery(this).val();e+=t+",";++n}});if(e){t="questions="+e;t+="&quiz_id="+jQuery("#quiz_id").attr("value");var r=parseInt(jQuery("#question_counter").attr("value"));t+="&question_count="+r;jQuery.post(ajaxurl,{action:"lesson_add_existing_questions",lesson_add_existing_questions_nonce:woo_localized_data.lesson_add_existing_questions_nonce,data:t},function(e){if(e){jQuery.fn.updateQuestionCount(n,"+");jQuery("#add-question-metadata table").append(e);jQuery.fn.checkQuizGradeType();var t=jQuery("#show_questions").attr("max");t+=n;jQuery("#show_questions").attr("max",t);jQuery.fn.scrollToElement("#lesson-quiz");jQuery("#existing-questions").find("input.existing-item").each(function(){jQuery(this).removeAttr("checked")})}});return!1}});jQuery("#existing-filter-button").click(function(){jQuery.fn.filterExistingQuestions(1)});jQuery("#existing-pagination").on("click","a",function(){var e=parseInt(jQuery("#existing-page").val()),t=e;jQuery(this).hasClass("prev")?t=e-1:jQuery(this).hasClass("next")&&(t=e+1);t=parseInt(t);jQuery.fn.filterExistingQuestions(t)});jQuery("#quiz-settings").on("change","#pass_required",function(){var e=jQuery(this).attr("checked");if("checked"==e)jQuery(".form-field.quiz_passmark").removeClass("hidden");else{jQuery(".form-field.quiz_passmark").addClass("hidden");jQuery("#quiz_passmark").val(0)}});jQuery("#quiz-settings").on("change","#random_question_order",function(){jQuery.fn.saveQuestionOrderRandom()});jQuery("#add-question-main").on("blur",".question_answer",function(){var e=jQuery(this).val(),t=jQuery(this);dataToPost="&answer_value="+e;jQuery.post(ajaxurl,{action:"question_get_answer_id",data:dataToPost},function(e){if(e){t.attr("rel",e);jQuery.fn.updateAnswerOrder(t.closest("div"))}});return!1});jQuery("#add-question-main").on("click",".add_answer_option",function(){var e=jQuery(this).attr("rel"),t=jQuery(this).closest("div").find(".wrong_answer_count").text();t++;var n='<label class="answer" for="question_'+e+"_wrong_answer_"+t+'"><span>'+woo_localized_data.wrong_colon+'</span> <input type="text" id="question_'+e+"_wrong_answer_"+t+'" name="question_wrong_answers[]" value="" size="25" class="question_answer widefat" /> <a class="remove_answer_option"></a></label>';jQuery(this).before(n)});jQuery("#add-question-main").on("click",".remove_answer_option",function(){jQuery(this).closest("label.answer").remove()});jQuery(".multiple-choice-answers").sortable({items:"label.answer"});jQuery(".multiple-choice-answers").bind("sortstop",function(e,t){jQuery.fn.updateAnswerOrder(jQuery(this))});jQuery("#sortable-questions").sortable({items:"tbody",start:function(e,t){t.placeholder.html("<tr><td colspan='5'>&nbsp;</td></tr>")}});jQuery("#sortable-questions").bind("sortstop",function(e,t){jQuery.fn.updateQuestionOrder();jQuery.fn.updateQuestionRows()});jQuery("#add-question-main").on("click",".upload_media_file_button",function(e){e.preventDefault();jQuery.fn.uploadQuestionMedia(jQuery(this))});jQuery("#add-question-main").on("click",".delete_media_file_button",function(e){e.preventDefault();jQuery.fn.deleteQuestionMedia(jQuery(this))});jQuery("#add-question-main").on("click",".question_media_preview",function(e){e.preventDefault();jQuery.fn.uploadQuestionMedia(jQuery(this).closest("div").find(".upload_media_file_button"))});jQuery(".add-question-tabs .nav-tab").click(function(){var e=jQuery(this).attr("id"),t=e+"-content";jQuery("#add-new-question .nav-tab").removeClass("nav-tab-active");jQuery(this).addClass("nav-tab-active");jQuery("#add-new-question .tab-content").addClass("hidden");jQuery("#"+t).removeClass("hidden")});jQuery("#add-multiple-question-category-options").change(function(){var e=jQuery(this).val(),t="cat="+e;jQuery.post(ajaxurl,{action:"get_question_category_limit",data:t},function(e){if(e){var t=parseInt(e);t&&jQuery("#add-multiple-question-count").attr("max",t)}})});jQuery("#existing-table th.check-column input").click(function(){jQuery("#existing-questions").find(":checkbox").attr("checked",this.checked)});jQuery("tbody#existing-questions").on("click","tr td:not(.cb)",function(){jQuery(this).closest("tr").find(":checkbox").each(function(){jQuery(this).prop("checked",!jQuery(this).prop("checked"))})});jQuery("#lesson-complexity-options").exists()&&jQuery("#lesson-complexity-options").chosen();jQuery("#lesson-prerequisite-options").exists()&&jQuery("#lesson-prerequisite-options").chosen();jQuery("#lesson-course-options").exists()&&jQuery("#lesson-course-options").chosen();jQuery("#lesson-course-details #course-prerequisite-options").exists()&&jQuery("#lesson-course-details #course-prerequisite-options").chosen();jQuery("#lesson-course-details #course-category-options").exists()&&jQuery("#lesson-course-details #course-category-options").chosen();jQuery("#course-woocommerce-product-options").exists()&&"-"!=jQuery("#course-woocommerce-product-options").val()&&jQuery("#course-woocommerce-product-options").chosen();jQuery("#add-question-type-options").exists()&&jQuery("#add-question-type-options").chosen();jQuery("#add-question-category-options").exists()&&jQuery("#add-question-category-options").chosen();jQuery("#add-multiple-question-options").exists()&&jQuery("#add-multiple-question-options").chosen();jQuery("#course-wc-product #course-woocommerce-product-options").exists()&&jQuery("#course-woocommerce-product-options").chosen();jQuery("#add-multiple-question-category-options").exists()&&jQuery("#add-multiple-question-category-options").chosen();jQuery("div.woothemes-sensei-settings form select").each(function(){jQuery(this).hasClass("range-input")||jQuery(this).chosen()});jQuery(".post-type-question #post-body-content").exists()&&jQuery(".post-type-question #post-body-content").remove()});